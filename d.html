
<!-- saved from url=(0104)https://alriyadh-gov-sa-certificate-eservice.netlify.app/health_certificate_web.html?certId=mkl7cryetvyz -->
<html lang="ar"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="pageTitle">Ø´Ù‡Ø§Ø¯Ø© ØµØ­ÙŠØ©</title>
    <!-- ØªØ¶Ù…ÙŠÙ† Ø®Ø·ÙˆØ· Ø¬ÙˆØ¬Ù„ -->
    <link rel="stylesheet" href="./Ø´Ù‡Ø§Ø¯Ø© ØµØ­ÙŠØ©_files/css2">
    <link href="./Ø´Ù‡Ø§Ø¯Ø© ØµØ­ÙŠØ©_files/css2(1)" rel="stylesheet">

    <style>
        body {
            direction: rtl;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            margin: 0;
            height: auto;
            background-color: #f3f3f3;
            font-family: 'Cairo', sans-serif;
        }
        .card {
            padding: 8px;
            background: #ffffff;
            box-sizing: border-box;
            position: relative;
            /* width: 380px; */
            /* height: 900px; */
            /* margin: 10%; */
            width: 100%;
            max-width: 380px; /* Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„Ø¹Ø±Ø¶ */
            height: auto;
            margin: 0 auto; /* ØªÙˆØ³ÙŠØ· Ø§Ù„ØµÙØ­Ø© */
        }
        .cardprint {
            margin: 0;
            padding: 10px;
            background: #fff;
            box-sizing: border-box;
            position: relative;
            width: 100%;
            max-width: 380px; /* Ù†ÙØ³ Ø¹Ø±Ø¶ Ø§Ù„ÙƒØ§Ø±Ø¯ */
            height: auto;
        }

        .header {
            display: flex;
            justify-content: right;
            align-items: center;
            gap: 10px; /* Ø§Ù„Ù…Ø³Ø§ÙØ© Ø§Ù„Ø¨Ø³ÙŠØ·Ø© Ø¨ÙŠÙ† Ø§Ù„Ù„ÙˆØ¬Ùˆ ÙˆØ§Ù„Ø¹Ù†ÙˆØ§Ù† */
            margin-bottom: -7px;
            border: none;
        }

        .header-title h1 {
            width: auto; /* Ø®Ù„ÙŠÙ‡ Ø¹Ù„Ù‰ Ù‚Ø¯ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ */
            font-weight: 900;
            color: #107c41;
            margin: 0; /* Ø´ÙŠÙ„ Ø§Ù„Ù…Ø³Ø§ÙØ§Øª Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© */
            font-size: 22.5px;
            padding-top: 5px;
        }

        .logo {
            width: 85px;
            height: 85px;
            object-fit: cover;
            border: none;
            margin: 0; /* Ø´ÙŠÙ„ Ø§Ù„Ù…Ø³Ø§ÙØ© Ø§Ù„Ø²Ø§ÙŠØ¯Ø© */
        }

        .profile-section {
            margin-top: 5px;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column; /* ğŸ‘ˆ Ø¯ÙŠ Ø§Ù„Ù„ÙŠ Ø¨ØªØ®Ù„ÙŠ Ø§Ù„ØµÙˆØ±Ø© ØªÙ†Ø²Ù„ ØªØ­Øª Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø¯Ø§ÙŠÙ…Ù‹Ø§ */
            border: none;
        }

            .profile-img {
                width: 139px;           /* Ù†ÙØ³ Ø§Ù„Ø¹Ø±Ø¶ */
                height: 145px;          /* ğŸ‘ˆ Ø²ÙˆÙ‘Ø¯ Ø§Ù„Ø·ÙˆÙ„ (Ø¨Ø¯Ù„ 260px Ù…Ø«Ù„Ø§Ù‹) */
                object-fit: cover;      /* ÙŠØ­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ø§Ù„ØªÙ†Ø§Ø³Ù‚ */
                margin-top: -25px;
                margin-bottom: 3px;
                position: relative;
                left: 5px;             /* ÙŠØ«Ø¨Øª Ù†ÙØ³ Ø§Ù„Ù…ÙƒØ§Ù† */
                max-width: none; 
                max-height: none;
            }


        .title {
            text-align: center;
            color: #107c41;
            font-weight: 700;
            font-size: 30px;
            margin-bottom: 5px;
            margin-top: -10px; /* Ø±Ù‚Ù… Ø¨Ø§Ù„Ø³Ø§Ù„Ø¨ = ÙŠØ±ÙØ¹ Ù„ÙÙˆÙ‚ */
        }
        .info-all {
            border: 1.5px solid #ccc;
            padding: 10px;
            padding-top: 12px;
            border-radius: 10px;
            margin-bottom: 12px;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.2);
            margin-top: -10px; /* ÙŠØ±ÙØ¹ Ø§Ù„ÙƒØ§Ø±Øª ÙƒÙ„Ù‡ Ù„ÙÙˆÙ‚ */
        }
        .info-section {
            padding: 10px 0;
            border-bottom: 1px solid #ccc; /* Ø®Ø· Ø¨ÙŠÙ† Ø§Ù„Ø£Ù‚Ø³Ø§Ù… */
            border-top: none; /* ØªØ£ÙƒØ¯ Ù…ÙÙŠØ´ Ø®Ø· ÙÙˆÙ‚ */
        }

.info-section-header {
    color: #107c41;
    font-weight: 700;
}



        /* ÙŠØ´ÙŠÙ„ Ø§Ù„Ø®Ø· Ù…Ù† Ø¢Ø®Ø± Ù‚Ø³Ù… */
        .info-section:last-child {
            border-bottom: none;
        }

        /* ÙŠØ´ÙŠÙ„ Ø§Ù„Ø®Ø· Ù…Ù† Ø£ÙˆÙ„ Ù‚Ø³Ù… */
        .info-section:first-child {
            border-top: none;
        }

        .info-item {
            display: flex;
            justify-content: right;
            margin-bottom: 8px;
        }
        .label {
            font-size: 12px;
            height: 18px;
            font-weight: 600;
            color: #aaa;
        }
        .value {
            margin: auto 8px;
            font-size: 15px;
            font-weight: 700;
            color: #222;
            word-wrap: break-word;
            overflow-wrap: break-word;
        }
        
        .separator {
            font-size: 15px;
            font-weight: 700;
            color: #222;
            margin: 0 5px; /* Ù…Ø³Ø§ÙØ© ØµØºÙŠØ±Ø© Ù…Ù† Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠÙ† */
            direction: ltr; /* Ø«Ø§Ø¨Øª Ø¨ØºØ¶ Ø§Ù„Ù†Ø¸Ø± Ø¹Ù† Ø§Ù„Ù„ØºØ© */
        }
        
        /* ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø®Ø§ØµØ© Ø¨Ø§Ù„Ù‡ÙˆØ§ØªÙ Ø§Ù„Ù…Ø­Ù…ÙˆÙ„Ø© */
        @media (max-width: 480px) {
            body {
                align-items: flex-start;
                padding: 10px;
            }
            
            .card {
                max-width: 100%;
            }
            
            .header-title h1 {
                width: auto;
                font-size: 20px;
            }
            
            .logo {
                width: 85px;
                height: 85px;
                object-fit: cover;
                border: none;
                margin: 0; /* Ø´ÙŠÙ„ Ø§Ù„Ù…Ø³Ø§ÙØ© Ø§Ù„Ø²Ø§ÙŠØ¯Ø© */
            }
            
            .profile-img {
                width: 139px;           /* Ù†ÙØ³ Ø§Ù„Ø¹Ø±Ø¶ */
                height: 145px;          /* ğŸ‘ˆ Ø²ÙˆÙ‘Ø¯ Ø§Ù„Ø·ÙˆÙ„ (Ø¨Ø¯Ù„ 260px Ù…Ø«Ù„Ø§Ù‹) */
                object-fit: cover;      /* ÙŠØ­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ø§Ù„ØªÙ†Ø§Ø³Ù‚ */
                margin-top: -25px;
                margin-bottom: 3px;
                position: relative;
                left: -15px;             /* ÙŠØ«Ø¨Øª Ù†ÙØ³ Ø§Ù„Ù…ÙƒØ§Ù† */
                max-width: none; 
                max-height: none;
            }
            
            .profile-section {
                margin-right: 0;
                justify-content: center;
            }
        }
    </style>
</head>

<body>
<div id="card" class="card">
    <div id="cardprint" class="cardprint">
        <div class="header">
            <img id="logoImg" src="./logo2.png" alt="Ø´Ø¹Ø§Ø± Ø§Ù„Ø£Ù…Ø§Ù†Ø©" class="logo">
            <div class="header-title">
                <h1>Ø£Ù…Ù€Ø§Ù†Ù€Ø© Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø±ÙŠØ§Ø¶</h1>
            </div>
        </div>

        <div class="profile-section">
            <img id="userimg" src="./d.jpeg" alt="ØµÙˆØ±Ø© Ø§Ù„Ø´Ø®Øµ" class="profile-img">
        </div>

        <p class="title">Ø´Ù‡Ø§Ø¯Ø© ØµØ­ÙŠØ©</p>

        <div class="info-all">
            <div class="info-section">
                <div class="info-section-header">Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ù‡Ø§Ø¯Ø©:</div>
                <div class="info-item"><span class="label">Ø±Ù‚Ù… Ø§Ù„Ø´Ù‡Ø§Ø¯Ø©</span><span class="separator">:</span><span id="certNumber" class="value">239399/1447</span></div>
                <div class="info-item"><span class="label">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥ØµØ¯Ø§Ø±</span><span class="separator">:</span><span id="hijriIssueDate" class="value">07/08/1447</span></div>
                <div class="info-item"><span class="label">Ù†Ù‡Ø§ÙŠØ© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©</span><span class="separator">:</span><span id="hijriExpiryDate" class="value">07/08/1448</span></div>
            </div>

            <div class="info-section">
                <div class="info-section-header">Ø¨ÙŠØ§Ù†Ø§Øª ØµØ§Ø­Ø¨ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø©:</div>
                <div class="info-item"><span class="label">Ø§Ù„Ø§Ø³Ù…</span><span class="separator">:</span><span id="name" class="value">YOGESH THAPA</span></div>
                <div class="info-item"><span class="label">Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ©</span><span class="separator">:</span><span id="idNumber" class="value">3615053877</span></div>
                <div class="info-item"><span class="label">Ø§Ù„Ø¬Ù†Ø³</span><span class="separator">:</span><span id="gender" class="value">Ø°ÙƒØ±</span></div>
                <div class="info-item"><span class="label">Ø§Ù„Ø¬Ù†Ø³ÙŠØ©</span><span class="separator">:</span><span id="nationality" class="value">Ù†ÙŠØ¨Ø§Ù„</span></div>
                <div class="info-item"><span class="label">Ø§Ù„Ù…Ù‡Ù†Ø©</span><span class="separator">:</span><span id="profession" class="value">ØµØ§Ù†Ø¹ Ø­Ù„ÙˆÙŠØ§Øª</span></div>
                <div class="info-item"><span class="label">Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„ØªØ«Ù‚ÙŠÙÙŠ</span><span class="separator">:</span><span id="educationProgram" class="value">Ø³Ù„Ø§Ù…Ø© Ø§Ù„ØºØ°Ø§Ø¡</span></div>
                <div class="info-item"><span class="label">ØªØ§Ø±ÙŠØ® Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬</span><span class="separator">:</span><span id="hijrieducationalProgramExpiryDate" class="value">Øµ12:00:00    07/08/1449</span></div>
            </div>

            <div class="info-section">
                <div class="info-section-header">Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†Ø´Ø£Ø©:</div>
                <div class="info-item"><span class="label">Ø§Ø³Ù… Ø§Ù„Ù…Ù†Ø´Ø£Ø©</span><span class="separator">:</span><span id="establishmentName" class="value">Ù…Ø¤Ø³Ø³Ø© Ø¹Ø§Ø¯Ù„ Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø§Ù„Ø´Ù‡Ø±Ø§Ù†ÙŠ</span></div>
                <div class="info-item"><span class="label">Ø±Ù‚Ù… Ø±Ø®ØµØ© Ø§Ù„Ù…Ù†Ø´Ø£Ø©</span><span class="separator">:</span><span id="establishmentLicense" class="value">7052690729</span></div>
            </div>
        </div>
    </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", initApp);

async function initApp() {
    try {
        const urlParams = new URLSearchParams(window.location.search);
        const certId = urlParams.get('certId');

        if (!certId) {
            console.error("Missing certId");
          //  showError("Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø±Ù‚Ù… Ø§Ù„Ø´Ù‡Ø§Ø¯Ø©.");
            return;
        }

        // âœ… Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        const response = await fetch(`/.netlify/functions/getCertificate?certId=${certId}`);
        if (!response.ok) throw new Error("ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");
        const data = await response.json();

        // âœ… ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø§Ù„ØµÙØ­Ø©
        document.getElementById('certNumber').textContent = data.health_number || "ØºÙŠØ± Ù…ØªÙˆÙØ±";
        document.getElementById('hijriIssueDate').textContent = data.issue_date_hijri || "ØºÙŠØ± Ù…ØªÙˆÙØ±";
        document.getElementById('hijriExpiryDate').textContent = data.expiry_date_hijri || "ØºÙŠØ± Ù…ØªÙˆÙØ±";
        document.getElementById('name').textContent = data.name || "ØºÙŠØ± Ù…ØªÙˆÙØ±";
        document.getElementById('idNumber').textContent = data.id_number || "ØºÙŠØ± Ù…ØªÙˆÙØ±";
        document.getElementById('gender').textContent = data.gender || "ØºÙŠØ± Ù…ØªÙˆÙØ±";
        document.getElementById('nationality').textContent = data.nationality || "ØºÙŠØ± Ù…ØªÙˆÙØ±";
        document.getElementById('profession').textContent = data.profession || "ØºÙŠØ± Ù…ØªÙˆÙØ±";
        document.getElementById('educationProgram').textContent = data.program_type || "ØºÙŠØ± Ù…ØªÙˆÙØ±";
        document.getElementById('hijrieducationalProgramExpiryDate').textContent = data.program_expiry || "ØºÙŠØ± Ù…ØªÙˆÙØ±";
        document.getElementById('establishmentName').textContent = data.establishment_name || "ØºÙŠØ± Ù…ØªÙˆÙØ±";
        document.getElementById('establishmentLicense').textContent = data.license_number || "ØºÙŠØ± Ù…ØªÙˆÙØ±";
        document.getElementById('userimg').src = data.photo || "https://apps.baledy.workers.dev/default_user.jpg";

    } catch (error) {
        console.error("Error:", error);
        showError("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.");
    }
}

function showError(msg) {
    const div = document.createElement('div');
    div.style.color = 'red';
    div.style.textAlign = 'center';
    div.textContent = msg;
    document.body.prepend(div);
}
</script>


</body></html>
